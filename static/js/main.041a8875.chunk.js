(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/loader.de199010.gif"},21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),i=(a(26),a(6)),l=a(7),s=a(9),m=a(8),u=a(10);var h=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"MARVEL HEROS"),r.a.createElement("p",{className:"header__lead"},"Search For Your Favorite Marvel Super Heros"))},d=a(1),E=a(31),p="776d8bd43b57caf9997ca8cc2c29ef7d",b="35aa7e075a342cb5b5728ddb6223073ab0c52d8a",f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={heroName:null},a.handleChange=function(e){a.setState({heroName:e.target.value})},a.handleClick=function(e){e.target.value=null},a.handleSubmit=function(e){e.preventDefault(),a.props.searchHero(a.state.heroName)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-search"},r.a.createElement("p",{className:"hero-search__title"}," MARVEL HEROS"),r.a.createElement("form",{className:"hero-search__form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",placeholder:"Enter hero name: Eg. thor",onChange:this.handleChange,onClick:this.handleClick}),r.a.createElement("button",{type:"submit"},"SEARCH")))}}]),t}(n.Component),_=Object(d.b)(null,function(e){return{searchHero:function(t){e(function(e){e=e.includes("spider")?e.trim().replace(/[^A-Z0-9]+/gi,"-"):e.trim().replace(/[^A-Z0-9]+/gi,"%20");var t=p,a=b,n=Date.now().toString(),r=E(n+a+t);return function(a,c){a({type:"HERO_LOADING",isLoading:!0}),setTimeout(function(){fetch("https://gateway.marvel.com/v1/public/characters?name=".concat(e,"&limit=1&ts=").concat(n,"&apikey=").concat(t,"&hash=").concat(r)).then(function(e){return e.json()}).then(function(e){var c=e.data.results[0].id;fetch("https://gateway.marvel.com/v1/public/characters/".concat(c,"/comics?limit=9&ts=").concat(n,"&apikey=").concat(t,"&hash=").concat(r)).then(function(e){return e.json()}).then(function(t){a({type:"HERO_LOADED",hero:{heroData:e.data.results[0],heroComics:t.data.results,isLoading:!1}})}).catch(function(e){a({type:"ERROR",err:e}),a({type:"HERO_ERROR_LOADING",isLoading:!1})})}).catch(function(e){a({type:"ERROR",err:e}),a({type:"HERO_ERROR_LOADING",isLoading:!1})})},1e3)}}(t))}}})(f);var v=Object(d.b)(function(e){return{heroData:e.heroData}})(function(e){if(e.heroData){var t=e.heroData,a=t.comics,n=t.name,c=t.thumbnail,o=t.urls,i=e.heroData.description;return""===i&&(i="Character does not have a description"),r.a.createElement("div",{className:"hero-bio"},r.a.createElement("div",{className:"hero-bio__image"},r.a.createElement("img",{src:"".concat(c.path,".").concat(c.extension),alt:"hero thumbnail"})),r.a.createElement("div",{className:"hero-bio__content"},r.a.createElement("span",{className:"hero-bio__content__title"},n),r.a.createElement("p",{className:"hero-bio__content__description"},i),r.a.createElement("p",{className:"hero-bio__content__collection"},r.a.createElement("span",null,"Comics: ",r.a.createElement("span",null,a.available))),r.a.createElement("a",{href:o[0].url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("button",{className:"hero-bio__content__button"},"Learn More"))))}return r.a.createElement("div",null)});var O=Object(d.b)(function(e){return{heroComics:e.heroComics,heroData:e.heroData}})(function(e){if(e.heroComics){var t=e.heroData.name;return r.a.createElement("div",{className:"hero-comics"},r.a.createElement("span",{className:"hero-comics__title"},t," Comics"),r.a.createElement("div",{className:"hero-comics__comics"},e.heroComics.map(function(e){var t=e.id,a=e.thumbnail,n=e.urls,c=e.title;return r.a.createElement("div",{key:t,className:"hero-comics__comics__item"},r.a.createElement("p",null,c),r.a.createElement("a",{href:n[0].url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"".concat(a.path,".").concat(a.extension),alt:"comic thumbnail"})))})))}return r.a.createElement("div",null)}),g=a(19),R=a.n(g);var N=Object(d.b)(function(e){return{isLoading:e.isLoading}})(function(e){return e.isLoading?r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:R.a,alt:"loader"})):r.a.createElement("div",null)}),D=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(_,null),r.a.createElement(N,null),r.a.createElement(v,null),r.a.createElement(O,null))}}]),t}(n.Component),L=a(4),C=a(14),j={heroData:null,heroComics:null,isLoading:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HERO_LOADED":return Object(C.a)({},e,{heroData:t.hero.heroData,heroComics:t.hero.heroComics,isLoading:t.hero.isLoading});case"HERO_LOADING":return Object(C.a)({},e,{heroData:null,heroComics:null,isLoading:t.isLoading});case"HERO_ERROR_LOADING":return{isLoading:t.isLoading};case"ERROR":return alert("Could not fetch data \n",t.err),e;default:return e}},A=a(20),H=Object(L.c)(y,Object(L.a)(A.a));o.a.render(r.a.createElement(d.a,{store:H},r.a.createElement(D,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.041a8875.chunk.js.map